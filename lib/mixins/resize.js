"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

function onResize(resizeHandler, element) {
  this.on("resize", resizeHandler, element);
}

function offResize(resizeHandler, element) {
  this.off("resize", resizeHandler, element);
}

function addResizeObject() {
  var _this = this;

  var resizeObject = document.createElement("object"),
      style = "display: block; \n                 position: absolute; \n                 top: 0; \n                 left: 0; \n                 height: 100%; \n                 width: 100%; \n                 overflow: hidden; \n                 pointer-events: none; \n                 z-index: -1;",
      data = "about:blank",
      type = "text/html";
  resizeObject.setAttribute("style", style);
  resizeObject.data = data;
  resizeObject.type = type;
  this.__resizeObject__ = resizeObject;

  resizeObject.onload = function () {
    return resizeObjectLoadHandler(_this);
  };

  this.domElement.appendChild(resizeObject);
}

function removeResizeObject() {
  var resizeObject = this.__resizeObject__,
      objectWindow = resizeObject.contentDocument.defaultView; ///

  objectWindow.removeEventListener("resize", resizeEventListener);
  this.domElement.removeChild(resizeObject);
}

var resizeMixins = {
  onResize: onResize,
  offResize: offResize,
  addResizeObject: addResizeObject,
  removeResizeObject: removeResizeObject
};
var _default = resizeMixins;
exports["default"] = _default;

function resizeObjectLoadHandler(element) {
  var resizeObject = element.__resizeObject__,
      resizeObjectWindow = resizeObject.contentDocument.defaultView; ///

  resizeObjectWindow.addEventListener("resize", function (event) {
    var resizeEventListeners = element.findEventListeners("resize");
    resizeEventListeners.forEach(function (resizeEventListener) {
      return resizeEventListener(event);
    });
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlc2l6ZS5qcyJdLCJuYW1lcyI6WyJvblJlc2l6ZSIsInJlc2l6ZUhhbmRsZXIiLCJlbGVtZW50Iiwib24iLCJvZmZSZXNpemUiLCJvZmYiLCJhZGRSZXNpemVPYmplY3QiLCJyZXNpemVPYmplY3QiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzdHlsZSIsImRhdGEiLCJ0eXBlIiwic2V0QXR0cmlidXRlIiwiX19yZXNpemVPYmplY3RfXyIsIm9ubG9hZCIsInJlc2l6ZU9iamVjdExvYWRIYW5kbGVyIiwiZG9tRWxlbWVudCIsImFwcGVuZENoaWxkIiwicmVtb3ZlUmVzaXplT2JqZWN0Iiwib2JqZWN0V2luZG93IiwiY29udGVudERvY3VtZW50IiwiZGVmYXVsdFZpZXciLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVzaXplRXZlbnRMaXN0ZW5lciIsInJlbW92ZUNoaWxkIiwicmVzaXplTWl4aW5zIiwicmVzaXplT2JqZWN0V2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwicmVzaXplRXZlbnRMaXN0ZW5lcnMiLCJmaW5kRXZlbnRMaXN0ZW5lcnMiLCJmb3JFYWNoIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7OztBQUVBLFNBQVNBLFFBQVQsQ0FBa0JDLGFBQWxCLEVBQWlDQyxPQUFqQyxFQUEwQztBQUFFLE9BQUtDLEVBQUwsQ0FBUSxRQUFSLEVBQWtCRixhQUFsQixFQUFpQ0MsT0FBakM7QUFBNEM7O0FBRXhGLFNBQVNFLFNBQVQsQ0FBbUJILGFBQW5CLEVBQWtDQyxPQUFsQyxFQUEyQztBQUFFLE9BQUtHLEdBQUwsQ0FBUyxRQUFULEVBQW1CSixhQUFuQixFQUFrQ0MsT0FBbEM7QUFBNkM7O0FBRTFGLFNBQVNJLGVBQVQsR0FBMkI7QUFBQTs7QUFDekIsTUFBTUMsWUFBWSxHQUFHQyxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsUUFBdkIsQ0FBckI7QUFBQSxNQUNNQyxLQUFLLGlTQURYO0FBQUEsTUFVTUMsSUFBSSxHQUFHLGFBVmI7QUFBQSxNQVdNQyxJQUFJLEdBQUcsV0FYYjtBQWFBTCxFQUFBQSxZQUFZLENBQUNNLFlBQWIsQ0FBMEIsT0FBMUIsRUFBbUNILEtBQW5DO0FBQ0FILEVBQUFBLFlBQVksQ0FBQ0ksSUFBYixHQUFvQkEsSUFBcEI7QUFDQUosRUFBQUEsWUFBWSxDQUFDSyxJQUFiLEdBQW9CQSxJQUFwQjtBQUVBLE9BQUtFLGdCQUFMLEdBQXdCUCxZQUF4Qjs7QUFFQUEsRUFBQUEsWUFBWSxDQUFDUSxNQUFiLEdBQXNCO0FBQUEsV0FBTUMsdUJBQXVCLENBQUMsS0FBRCxDQUE3QjtBQUFBLEdBQXRCOztBQUVBLE9BQUtDLFVBQUwsQ0FBZ0JDLFdBQWhCLENBQTRCWCxZQUE1QjtBQUNEOztBQUVELFNBQVNZLGtCQUFULEdBQThCO0FBQzVCLE1BQU1aLFlBQVksR0FBRyxLQUFLTyxnQkFBMUI7QUFBQSxNQUNNTSxZQUFZLEdBQUdiLFlBQVksQ0FBQ2MsZUFBYixDQUE2QkMsV0FEbEQsQ0FENEIsQ0FFb0M7O0FBRWhFRixFQUFBQSxZQUFZLENBQUNHLG1CQUFiLENBQWlDLFFBQWpDLEVBQTJDQyxtQkFBM0M7QUFFQSxPQUFLUCxVQUFMLENBQWdCUSxXQUFoQixDQUE0QmxCLFlBQTVCO0FBQ0Q7O0FBRUQsSUFBTW1CLFlBQVksR0FBRztBQUNuQjFCLEVBQUFBLFFBQVEsRUFBUkEsUUFEbUI7QUFFbkJJLEVBQUFBLFNBQVMsRUFBVEEsU0FGbUI7QUFHbkJFLEVBQUFBLGVBQWUsRUFBZkEsZUFIbUI7QUFJbkJhLEVBQUFBLGtCQUFrQixFQUFsQkE7QUFKbUIsQ0FBckI7ZUFPZU8sWTs7O0FBRWYsU0FBU1YsdUJBQVQsQ0FBaUNkLE9BQWpDLEVBQTBDO0FBQ3hDLE1BQU1LLFlBQVksR0FBR0wsT0FBTyxDQUFDWSxnQkFBN0I7QUFBQSxNQUNNYSxrQkFBa0IsR0FBR3BCLFlBQVksQ0FBQ2MsZUFBYixDQUE2QkMsV0FEeEQsQ0FEd0MsQ0FFOEI7O0FBRXRFSyxFQUFBQSxrQkFBa0IsQ0FBQ0MsZ0JBQW5CLENBQW9DLFFBQXBDLEVBQThDLFVBQUNDLEtBQUQsRUFBVztBQUN2RCxRQUFNQyxvQkFBb0IsR0FBRzVCLE9BQU8sQ0FBQzZCLGtCQUFSLENBQTJCLFFBQTNCLENBQTdCO0FBRUFELElBQUFBLG9CQUFvQixDQUFDRSxPQUFyQixDQUE2QixVQUFDUixtQkFBRDtBQUFBLGFBQXlCQSxtQkFBbUIsQ0FBQ0ssS0FBRCxDQUE1QztBQUFBLEtBQTdCO0FBQ0QsR0FKRDtBQUtEIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIG9uUmVzaXplKHJlc2l6ZUhhbmRsZXIsIGVsZW1lbnQpIHsgdGhpcy5vbihcInJlc2l6ZVwiLCByZXNpemVIYW5kbGVyLCBlbGVtZW50KTsgfVxuXG5mdW5jdGlvbiBvZmZSZXNpemUocmVzaXplSGFuZGxlciwgZWxlbWVudCkgeyB0aGlzLm9mZihcInJlc2l6ZVwiLCByZXNpemVIYW5kbGVyLCBlbGVtZW50KTsgfVxuXG5mdW5jdGlvbiBhZGRSZXNpemVPYmplY3QoKSB7XG4gIGNvbnN0IHJlc2l6ZU9iamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvYmplY3RcIiksXG4gICAgICAgIHN0eWxlID0gYGRpc3BsYXk6IGJsb2NrOyBcbiAgICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOyBcbiAgICAgICAgICAgICAgICAgdG9wOiAwOyBcbiAgICAgICAgICAgICAgICAgbGVmdDogMDsgXG4gICAgICAgICAgICAgICAgIGhlaWdodDogMTAwJTsgXG4gICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlOyBcbiAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsgXG4gICAgICAgICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lOyBcbiAgICAgICAgICAgICAgICAgei1pbmRleDogLTE7YCxcbiAgICAgICAgZGF0YSA9IFwiYWJvdXQ6YmxhbmtcIixcbiAgICAgICAgdHlwZSA9IFwidGV4dC9odG1sXCI7XG5cbiAgcmVzaXplT2JqZWN0LnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIHN0eWxlKTtcbiAgcmVzaXplT2JqZWN0LmRhdGEgPSBkYXRhO1xuICByZXNpemVPYmplY3QudHlwZSA9IHR5cGU7XG5cbiAgdGhpcy5fX3Jlc2l6ZU9iamVjdF9fID0gcmVzaXplT2JqZWN0O1xuXG4gIHJlc2l6ZU9iamVjdC5vbmxvYWQgPSAoKSA9PiByZXNpemVPYmplY3RMb2FkSGFuZGxlcih0aGlzKTtcblxuICB0aGlzLmRvbUVsZW1lbnQuYXBwZW5kQ2hpbGQocmVzaXplT2JqZWN0KTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlUmVzaXplT2JqZWN0KCkge1xuICBjb25zdCByZXNpemVPYmplY3QgPSB0aGlzLl9fcmVzaXplT2JqZWN0X18sXG4gICAgICAgIG9iamVjdFdpbmRvdyA9IHJlc2l6ZU9iamVjdC5jb250ZW50RG9jdW1lbnQuZGVmYXVsdFZpZXc7ICAvLy9cblxuICBvYmplY3RXaW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCByZXNpemVFdmVudExpc3RlbmVyKTtcblxuICB0aGlzLmRvbUVsZW1lbnQucmVtb3ZlQ2hpbGQocmVzaXplT2JqZWN0KTtcbn1cblxuY29uc3QgcmVzaXplTWl4aW5zID0ge1xuICBvblJlc2l6ZSxcbiAgb2ZmUmVzaXplLFxuICBhZGRSZXNpemVPYmplY3QsXG4gIHJlbW92ZVJlc2l6ZU9iamVjdFxufTtcblxuZXhwb3J0IGRlZmF1bHQgcmVzaXplTWl4aW5zO1xuXG5mdW5jdGlvbiByZXNpemVPYmplY3RMb2FkSGFuZGxlcihlbGVtZW50KSB7XG4gIGNvbnN0IHJlc2l6ZU9iamVjdCA9IGVsZW1lbnQuX19yZXNpemVPYmplY3RfXyxcbiAgICAgICAgcmVzaXplT2JqZWN0V2luZG93ID0gcmVzaXplT2JqZWN0LmNvbnRlbnREb2N1bWVudC5kZWZhdWx0VmlldzsgIC8vL1xuXG4gIHJlc2l6ZU9iamVjdFdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIChldmVudCkgPT4ge1xuICAgIGNvbnN0IHJlc2l6ZUV2ZW50TGlzdGVuZXJzID0gZWxlbWVudC5maW5kRXZlbnRMaXN0ZW5lcnMoXCJyZXNpemVcIik7XG5cbiAgICByZXNpemVFdmVudExpc3RlbmVycy5mb3JFYWNoKChyZXNpemVFdmVudExpc3RlbmVyKSA9PiByZXNpemVFdmVudExpc3RlbmVyKGV2ZW50KSk7XG4gIH0pO1xufVxuIl19