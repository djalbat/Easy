"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

function onResize(resizeHandler, element) {
  this.on("resize", resizeHandler, element);
}

function offResize(resizeHandler, element) {
  this.off("resize", resizeHandler, element);
}

function addResizeObject() {
  var _this = this;

  var resizeObject = document.createElement("object"),
      style = "display: block; \n                 position: absolute; \n                 top: 0; \n                 left: 0; \n                 height: 100%; \n                 width: 100%; \n                 overflow: hidden; \n                 pointer-events: none; \n                 z-index: -1;",
      data = "about:blank",
      type = "text/html";
  resizeObject.setAttribute("style", style);
  resizeObject.data = data;
  resizeObject.type = type;
  this.__resizeObject__ = resizeObject;

  resizeObject.onload = function () {
    return resizeObjectLoadHandler(_this);
  };

  this.domElement.appendChild(resizeObject);
}

function removeResizeObject() {
  var resizeObject = this.__resizeObject__,
      objectWindow = resizeObject.contentDocument.defaultView; ///

  objectWindow.removeEventListener("resize", resizeEventListener);
  this.domElement.removeChild(resizeObject);
}

var _default = {
  onResize: onResize,
  offResize: offResize,
  addResizeObject: addResizeObject,
  removeResizeObject: removeResizeObject
};
exports["default"] = _default;

function resizeObjectLoadHandler(element) {
  var resizeObject = element.__resizeObject__,
      resizeObjectWindow = resizeObject.contentDocument.defaultView; ///

  resizeObjectWindow.addEventListener("resize", function (event) {
    var resizeEventListeners = element.findEventListeners("resize");
    resizeEventListeners.forEach(function (resizeEventListener) {
      return resizeEventListener(event);
    });
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlc2l6ZS5qcyJdLCJuYW1lcyI6WyJvblJlc2l6ZSIsInJlc2l6ZUhhbmRsZXIiLCJlbGVtZW50Iiwib24iLCJvZmZSZXNpemUiLCJvZmYiLCJhZGRSZXNpemVPYmplY3QiLCJyZXNpemVPYmplY3QiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzdHlsZSIsImRhdGEiLCJ0eXBlIiwic2V0QXR0cmlidXRlIiwiX19yZXNpemVPYmplY3RfXyIsIm9ubG9hZCIsInJlc2l6ZU9iamVjdExvYWRIYW5kbGVyIiwiZG9tRWxlbWVudCIsImFwcGVuZENoaWxkIiwicmVtb3ZlUmVzaXplT2JqZWN0Iiwib2JqZWN0V2luZG93IiwiY29udGVudERvY3VtZW50IiwiZGVmYXVsdFZpZXciLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVzaXplRXZlbnRMaXN0ZW5lciIsInJlbW92ZUNoaWxkIiwicmVzaXplT2JqZWN0V2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwicmVzaXplRXZlbnRMaXN0ZW5lcnMiLCJmaW5kRXZlbnRMaXN0ZW5lcnMiLCJmb3JFYWNoIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7OztBQUVBLFNBQVNBLFFBQVQsQ0FBa0JDLGFBQWxCLEVBQWlDQyxPQUFqQyxFQUEwQztBQUFFLE9BQUtDLEVBQUwsQ0FBUSxRQUFSLEVBQWtCRixhQUFsQixFQUFpQ0MsT0FBakM7QUFBNEM7O0FBRXhGLFNBQVNFLFNBQVQsQ0FBbUJILGFBQW5CLEVBQWtDQyxPQUFsQyxFQUEyQztBQUFFLE9BQUtHLEdBQUwsQ0FBUyxRQUFULEVBQW1CSixhQUFuQixFQUFrQ0MsT0FBbEM7QUFBNkM7O0FBRTFGLFNBQVNJLGVBQVQsR0FBMkI7QUFBQTs7QUFDekIsTUFBTUMsWUFBWSxHQUFHQyxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsUUFBdkIsQ0FBckI7QUFBQSxNQUNNQyxLQUFLLGlTQURYO0FBQUEsTUFVTUMsSUFBSSxHQUFHLGFBVmI7QUFBQSxNQVdNQyxJQUFJLEdBQUcsV0FYYjtBQWFBTCxFQUFBQSxZQUFZLENBQUNNLFlBQWIsQ0FBMEIsT0FBMUIsRUFBbUNILEtBQW5DO0FBQ0FILEVBQUFBLFlBQVksQ0FBQ0ksSUFBYixHQUFvQkEsSUFBcEI7QUFDQUosRUFBQUEsWUFBWSxDQUFDSyxJQUFiLEdBQW9CQSxJQUFwQjtBQUVBLE9BQUtFLGdCQUFMLEdBQXdCUCxZQUF4Qjs7QUFFQUEsRUFBQUEsWUFBWSxDQUFDUSxNQUFiLEdBQXNCO0FBQUEsV0FBTUMsdUJBQXVCLENBQUMsS0FBRCxDQUE3QjtBQUFBLEdBQXRCOztBQUVBLE9BQUtDLFVBQUwsQ0FBZ0JDLFdBQWhCLENBQTRCWCxZQUE1QjtBQUNEOztBQUVELFNBQVNZLGtCQUFULEdBQThCO0FBQzVCLE1BQU1aLFlBQVksR0FBRyxLQUFLTyxnQkFBMUI7QUFBQSxNQUNNTSxZQUFZLEdBQUdiLFlBQVksQ0FBQ2MsZUFBYixDQUE2QkMsV0FEbEQsQ0FENEIsQ0FFb0M7O0FBRWhFRixFQUFBQSxZQUFZLENBQUNHLG1CQUFiLENBQWlDLFFBQWpDLEVBQTJDQyxtQkFBM0M7QUFFQSxPQUFLUCxVQUFMLENBQWdCUSxXQUFoQixDQUE0QmxCLFlBQTVCO0FBQ0Q7O2VBRWM7QUFDYlAsRUFBQUEsUUFBUSxFQUFSQSxRQURhO0FBRWJJLEVBQUFBLFNBQVMsRUFBVEEsU0FGYTtBQUdiRSxFQUFBQSxlQUFlLEVBQWZBLGVBSGE7QUFJYmEsRUFBQUEsa0JBQWtCLEVBQWxCQTtBQUphLEM7OztBQU9mLFNBQVNILHVCQUFULENBQWlDZCxPQUFqQyxFQUEwQztBQUN4QyxNQUFNSyxZQUFZLEdBQUdMLE9BQU8sQ0FBQ1ksZ0JBQTdCO0FBQUEsTUFDTVksa0JBQWtCLEdBQUduQixZQUFZLENBQUNjLGVBQWIsQ0FBNkJDLFdBRHhELENBRHdDLENBRThCOztBQUV0RUksRUFBQUEsa0JBQWtCLENBQUNDLGdCQUFuQixDQUFvQyxRQUFwQyxFQUE4QyxVQUFDQyxLQUFELEVBQVc7QUFDdkQsUUFBTUMsb0JBQW9CLEdBQUczQixPQUFPLENBQUM0QixrQkFBUixDQUEyQixRQUEzQixDQUE3QjtBQUVBRCxJQUFBQSxvQkFBb0IsQ0FBQ0UsT0FBckIsQ0FBNkIsVUFBQ1AsbUJBQUQ7QUFBQSxhQUF5QkEsbUJBQW1CLENBQUNJLEtBQUQsQ0FBNUM7QUFBQSxLQUE3QjtBQUNELEdBSkQ7QUFLRCIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBvblJlc2l6ZShyZXNpemVIYW5kbGVyLCBlbGVtZW50KSB7IHRoaXMub24oXCJyZXNpemVcIiwgcmVzaXplSGFuZGxlciwgZWxlbWVudCk7IH1cblxuZnVuY3Rpb24gb2ZmUmVzaXplKHJlc2l6ZUhhbmRsZXIsIGVsZW1lbnQpIHsgdGhpcy5vZmYoXCJyZXNpemVcIiwgcmVzaXplSGFuZGxlciwgZWxlbWVudCk7IH1cblxuZnVuY3Rpb24gYWRkUmVzaXplT2JqZWN0KCkge1xuICBjb25zdCByZXNpemVPYmplY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib2JqZWN0XCIpLFxuICAgICAgICBzdHlsZSA9IGBkaXNwbGF5OiBibG9jazsgXG4gICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsgXG4gICAgICAgICAgICAgICAgIHRvcDogMDsgXG4gICAgICAgICAgICAgICAgIGxlZnQ6IDA7IFxuICAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwMCU7IFxuICAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTsgXG4gICAgICAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47IFxuICAgICAgICAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTsgXG4gICAgICAgICAgICAgICAgIHotaW5kZXg6IC0xO2AsXG4gICAgICAgIGRhdGEgPSBcImFib3V0OmJsYW5rXCIsXG4gICAgICAgIHR5cGUgPSBcInRleHQvaHRtbFwiO1xuXG4gIHJlc2l6ZU9iamVjdC5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBzdHlsZSk7XG4gIHJlc2l6ZU9iamVjdC5kYXRhID0gZGF0YTtcbiAgcmVzaXplT2JqZWN0LnR5cGUgPSB0eXBlO1xuXG4gIHRoaXMuX19yZXNpemVPYmplY3RfXyA9IHJlc2l6ZU9iamVjdDtcblxuICByZXNpemVPYmplY3Qub25sb2FkID0gKCkgPT4gcmVzaXplT2JqZWN0TG9hZEhhbmRsZXIodGhpcyk7XG5cbiAgdGhpcy5kb21FbGVtZW50LmFwcGVuZENoaWxkKHJlc2l6ZU9iamVjdCk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVJlc2l6ZU9iamVjdCgpIHtcbiAgY29uc3QgcmVzaXplT2JqZWN0ID0gdGhpcy5fX3Jlc2l6ZU9iamVjdF9fLFxuICAgICAgICBvYmplY3RXaW5kb3cgPSByZXNpemVPYmplY3QuY29udGVudERvY3VtZW50LmRlZmF1bHRWaWV3OyAgLy8vXG5cbiAgb2JqZWN0V2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgcmVzaXplRXZlbnRMaXN0ZW5lcik7XG5cbiAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUNoaWxkKHJlc2l6ZU9iamVjdCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgb25SZXNpemUsXG4gIG9mZlJlc2l6ZSxcbiAgYWRkUmVzaXplT2JqZWN0LFxuICByZW1vdmVSZXNpemVPYmplY3Rcbn07XG5cbmZ1bmN0aW9uIHJlc2l6ZU9iamVjdExvYWRIYW5kbGVyKGVsZW1lbnQpIHtcbiAgY29uc3QgcmVzaXplT2JqZWN0ID0gZWxlbWVudC5fX3Jlc2l6ZU9iamVjdF9fLFxuICAgICAgICByZXNpemVPYmplY3RXaW5kb3cgPSByZXNpemVPYmplY3QuY29udGVudERvY3VtZW50LmRlZmF1bHRWaWV3OyAgLy8vXG5cbiAgcmVzaXplT2JqZWN0V2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgKGV2ZW50KSA9PiB7XG4gICAgY29uc3QgcmVzaXplRXZlbnRMaXN0ZW5lcnMgPSBlbGVtZW50LmZpbmRFdmVudExpc3RlbmVycyhcInJlc2l6ZVwiKTtcblxuICAgIHJlc2l6ZUV2ZW50TGlzdGVuZXJzLmZvckVhY2goKHJlc2l6ZUV2ZW50TGlzdGVuZXIpID0+IHJlc2l6ZUV2ZW50TGlzdGVuZXIoZXZlbnQpKTtcbiAgfSk7XG59XG4iXX0=